<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="MCT.DB.Entities" namespace="MCT.DB.Entities">
  <joined-subclass xmlns="urn:nhibernate-mapping-2.2" name="Plant" table="Plants" extends="Species" dynamic-update="true">
    
    <key column="Id" />

    <!--//Eigenschaften-->
    <property name="Width" type="Double"/>
    <property name="Height" type="Double"/>
    <property name="RootDepth" type="RootDepth"/>
    <property name="NutrientClaim" type="NutrientClaim"/>
    <property name="SowingDepth" type="Int32"/>

    <!--//Vorzucht-->
    <many-to-one name="Cultivation" class="MCT.DB.Entities.Cultivation, MCT.DB.Entities" column="Cultivation" cascade="all" not-null="false" />
    <!--<property name="Cultivation" type="Int64"/>-->

    <!--//Dates-->
    <!--<many-to-one name="Sowing" class="MCT.DB.Entities.TimePeriod, MCT.DB.Entities" column="Sowing" cascade="all" not-null="false" />
    <many-to-one name="Bloom" class="MCT.DB.Entities.TimePeriod, MCT.DB.Entities" column="Bloom" cascade="all" not-null="false" />
    <many-to-one name="Harvest" class="MCT.DB.Entities.TimePeriod, MCT.DB.Entities" column="Harvest" cascade="all" not-null="false" />
    <many-to-one name="SeedMaturity" class="MCT.DB.Entities.TimePeriod, MCT.DB.Entities" column="SeedMaturity" cascade="all" not-null="false" />-->

    <!--<list name="Sowing" cascade="all">
      <key column="Subject"/>
      <key column="Type"/>
      <one-to-many
         class="MCT.DB.Entities.TimePeriod"/>
    </list>

    <list name="Bloom" cascade="all">
      <key column="Subject"/>
      <key column="Type"/>
      <one-to-many
         class="MCT.DB.Entities.TimePeriod"/>
    </list>

    <list name="Harvest" cascade="all">
      <key column="Subject"/>
      <key column="Type"/>
      <one-to-many
         class="MCT.DB.Entities.TimePeriod"/>
    </list>

    <list name="SeedMaturity" cascade="all">
      <key column="Subject"/>
      <key column="Type"/>
      <one-to-many
         class="MCT.DB.Entities.TimePeriod"/>
    </list>-->

    <set name="Sowing" lazy="true" cascade="all">
      <key column="SowingRef" not-null="false" />
      <one-to-many class="MCT.DB.Entities.TimePeriod" />
    </set>
    
    <set name="Bloom" lazy="true" cascade="all">
      <key column="BloomRef" not-null="false" />
      <one-to-many class="MCT.DB.Entities.TimePeriod" />
    </set>
    <set name="Harvest" inverse="true" lazy="true" cascade="all">
      <key column="HarvestRef" not-null="false" />
      <one-to-many class="MCT.DB.Entities.TimePeriod" />
    </set>
    <set name="SeedMaturity" inverse="true" lazy="true" cascade="all">
      <key column="SeedMaturityRef" not-null="false" />
      <one-to-many class="MCT.DB.Entities.TimePeriod" />
    </set>
    
  </joined-subclass>
</hibernate-mapping>
