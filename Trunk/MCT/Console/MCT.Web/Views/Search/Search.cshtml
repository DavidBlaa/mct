@{
    ViewBag.Title = "Search";
}

@model MCT.Web.Models.Search.SearchModel

<h2>Search</h2>

<input type="search" id="searchInput" class=" form-control" placeholder="search...">


<br />
@*<div class="button-group js-radio-button-group">
    <button class="btn btn-primary" onclick="OnClick(this)">Animal</button>
    <button class="btn btn-primary" onclick="OnClick(this)">Effect</button>
    <button class="btn btn-primary" onclick="OnClick(this)">Plant</button>
    <button class="btn btn-primary" onclick="OnClick(this)">All</button>
    
</div>*@
<br/>
<div id="searchResult">
    @Html.Partial("_searchResult", Model.Subjects.ToList())
</div>

<script type="text/javascript">

    $("#searchInput").keydown(function (e) {

        alert("s:" + $("#searchInput").val() +" "+String.fromCharCode(e.keyCode) );
        
        var searchValue = $("#searchInput").val() + String.fromCharCode(e.keyCode);

        if (searchValue.length >= 0) {
            $.post('@Url.Action("Search", "Search")', { searchValue: searchValue }, function (response) {
               
                $("#searchContent").replaceWith(response);
            });

        }

    });

</script>
